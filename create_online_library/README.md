# Описание

Скрипт написан в образовательных целях, согласно Уроку №4 "Верстаем онлайн-библиотеку" модуля "Вёрстка для питониста", в целях помощи двенадцатилетнему Максиму и спасения его дедушки от скуки и единообразия деревенской жизни при отуствии доступа в Интернет. Спасибо [Devman](https://dvmn.org/).

Скрипт создает локальный сайт на основании данных, полученных ранее, с [помощью Урока №3.](https://github.com/Sam1808/site-layout/tree/master/online_library_parsing)  

## Подготовка к использованию

Уверен, вы уже неоднократно запускали скрипты на Python, очевидно, что у вас уже установлен Python3.

Итак
- Качаем код. Нам необходимо [все отсюда](https://github.com/Sam1808/site-layout/tree/master/create_online_library), а именно:
  - [requirements.txt](https://github.com/Sam1808/site-layout/blob/master/create_online_library/requirements.txt) - для установки зависимостей;
  - [render_website.py](https://github.com/Sam1808/site-layout/blob/master/create_online_library/render_website.py) - генератор html-страничек;
  - все файлы **html**, **css**, **js** для корректного создания и отображения локального сайта.
- **Важно:** Для корректного создания сайта нам нужны данные: файлы книг, картинки и описание к нему *в домашней папке скрипта*. Данные вы должны были получить ранее, из Урока №3, а самое важное для работы текущего скрипта - это название файла с описанием. Название файла и его формат **books_description.json**.
- Традиционно поднимаем виртуальное окружение (необязательно, но крайне полезно), командой `python3 -m venv my_virtual_env` и запускаем его командой, в зависимости от используемой операционной системы.
- Устанавливаем зависимости `pip install -r requirements.txt`
- Задерживаем дыхаение....

## Давайте запускать...

Итак у нас есть все файлы из текущего репозитория, папки с файлами книг и картинками, установлены зависимости... Пробуем запускать генератор сайта:

`python render_website.py`

И получаем та-да-а-а-м:

`File "books_description.json" does not exist`

Добавляйте файл `books_description.json` и пробуйте ещё раз...

В случае успешного запуска скрип сгенерирет странички сайта. Странички будут лежать в папке `pages` и, например первая страничка, будет доступна по адресу:

`http://127.0.0.1:5500/pages/index1.html`

Для перехода по страничкам используейте *пагинатор*, расположенный над карточками с описанием книг.

 ## Аргументы командной строки

По умолчанию, на одной страничке располагается 20 карточек с описанием книг. Но дедушкиному примеру последуют многие, что делать если книг слишком много... или наоборот - слишком мало? А если надо на одной странице указывать только одну книгу?
Для этого в скрит добавлен аргумент `books` с помощью которого мы можем указывать, сколько книг на каждой странице. Примеры:
 - `python render_website.py --books 40` - книг очень много, отображаем на каждой страничке по 40 книжек.
 - `python render_website.py --books 1` - книг крайне мало и каждая книга достойна своей отдельной странички.

## Ошибки, про которые уже известно...

Скрипт явно укажет, если не найдет *books_description.json*.

Еще один вопрос остается открытым - это кодировки открываемых книг. Дедушка умеет читать только по-русски, а в браузере книги открываются с *крокозябрами*. Лечится это установкой кодировки страницы в браузере как `unicode` после открытия книги. Надеюсь Максим поможет дедушке разобраться.
